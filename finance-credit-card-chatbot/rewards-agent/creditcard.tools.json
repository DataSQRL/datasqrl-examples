[
  {
    "type": "graphql",
    "function": {
      "name": "total_rewards",
      "description": "Returns the total amount of rewards the customer has earned to date and the time since when they eared rewards",
      "parameters": {
        "type": "object",
        "properties": {
          "customerid": {
            "type": "integer"
          }
        },
        "required": ["customerid"]
      }
    },
    "context": ["customerid"],
    "api": {
      "query": "query TotalReward($customerid: Int!) {\n  TotalReward(customerId: $customerid) {\n    total_reward\n    since_time\n  }\n}"
    }
  },
  {
    "type": "graphql",
    "function": {
      "name": "total_potential_rewards",
      "description": "Returns the total amount of rewards the customer could have earned for each type of credit card the customer does not yet have. Use this function to determine which credit card type to recommend to a customer.",
      "parameters": {
        "type": "object",
        "properties": {
          "customerid": {
            "type": "integer"
          }
        },
        "required": ["customerid"]
      }
    },
    "context": ["customerid"],
    "api": {
      "query": "query TotalPotentialReward($customerid: Int!) {\n  TotalPotentialReward(customerId: $customerid) {\n    total_reward\n    since_time\n  }\n}"
    }
  },
  {
    "type": "graphql",
    "function": {
      "name": "rewards_by_week",
      "description": "Returns the total awards a customer earned by week starting from the most recent week.",
      "parameters": {
        "type": "object",
        "properties": {
          "customerid": {
            "type": "integer"
          },
          "limit": {
            "type": "string",
            "description": "The number of weeks to return starting from most recent to less recent weeks. For example, if limit is 12 it will return the last 12 weeks of total rewards earned."
          },
          "offset": {
            "type": "string",
            "description": "The number of weeks to offset. For example, if offset is 4, it will skip the last 4 weeks of rewards earned and return the weeks before that."
          }
        },
        "required": ["customerid","limit"]
      }
    },
    "context": ["customerid"],
    "api": {
      "query": "query RewardsByWeek($customerid: Int!, $limit: Int! = 12, $offset: Int! = 0) {\n  RewardsByWeek(customerId: $customerid, limit: $limit, offset: $offset) {\n    timeWeek\n    total_reward\n  }\n}"
    }
  },
  {
    "type": "graphql",
    "function": {
      "name": "potential_rewards_by_week",
      "description": "Returns the total awards a customer could have earned for a given card type by week starting from the most recent week. Use this function to show the customer what their reward earnings would have looked like, if they had a given card.",
      "parameters": {
        "type": "object",
        "properties": {
          "customerid": {
            "type": "integer"
          },
          "cardType": {
            "type": "string",
            "enum": ["travel", "sports", "business", "family"]
          },
          "limit": {
            "type": "string",
            "description": "The number of weeks to return starting from most recent to less recent weeks. For example, if limit is 12 it will return the last 12 weeks of total rewards earned."
          },
          "offset": {
            "type": "string",
            "description": "The number of weeks to offset. For example, if offset is 4, it will skip the last 4 weeks of rewards earned and return the weeks before that."
          }
        },
        "required": ["customerid","cardType","limit"]
      }
    },
    "context": ["customerid"],
    "api": {
      "query": "query PotentialRewardsByWeek($customerid: Int!, $cardType: String!, $limit: Int! = 12, $offset: Int! = 0) {\n  PotentialRewardsByWeek(customerId: $customerid, cardType: $cardType, limit: $limit, offset: $offset) {\n    timeWeek\n    total_reward\n  }\n}"
    }
  },
  {
    "type": "graphql",
    "function": {
      "name": "rewards",
      "description": "Returns all the rewards that a customer has earned in the given time period",
      "parameters": {
        "type": "object",
        "properties": {
          "customerid": {
            "type": "integer"
          },
          "from": {
            "type": "string",
            "description": "RFC-3339 compliant date time scalar. Returns rewards after this time. Use the start of the day only, e.g. `2024-01-19T00:00:00-00:00`."
          },
          "to": {
            "type": "string",
            "description": "RFC-3339 compliant date time scalar. Returns rewards up to this time. Use the start of the day only, e.g. `2024-01-19T00:00:00-00:00`."
          }
        },
        "required": ["customerid","from","to"]
      }
    },
    "context": ["customerid"],
    "api": {
      "query": "query Rewards($customerid: Int!, $from: DateTime!, $to: DateTime!) {\n  Rewards(customerid: $customerid, fromTime: $from, toTime: $to) {\n    transactionId\n    cardNo\n    cardType\n    amount\n    reward\n    merchantName\n  }\n}"
    }
  },
  {
    "type": "graphql",
    "function": {
      "name": "potential_rewards",
      "description": "Returns all the potential rewards a customer could have earned in the given time period for the given card type. Use this function to show customers the rewards they would have earned if they had the given card.",
      "parameters": {
        "type": "object",
        "properties": {
          "customerid": {
            "type": "integer"
          },
          "cardType": {
            "type": "string",
            "enum": ["travel", "sports", "business", "family"]
          },
          "from": {
            "type": "string",
            "description": "RFC-3339 compliant date time scalar. Returns rewards after this time. Use the start of the day only, e.g. `2024-01-19T00:00:00-00:00`."
          },
          "to": {
            "type": "string",
            "description": "RFC-3339 compliant date time scalar. Returns rewards up to this time. Use the start of the day only, e.g. `2024-01-19T00:00:00-00:00`."
          }
        },
        "required": ["customerid","cardType","from","to"]
      }
    },
    "context": ["customerid"],
    "api": {
      "query": "query PotentialRewards($customerid: Int!, $cardType: String!, $from: DateTime!, $to: DateTime!) {\n  PotentialRewards(customerid: $customerid, cardType: $cardType, fromTime: $from, toTime: $to) {\n    transactionId\n    amount\n    reward\n    merchantName\n  }\n}"
    }
  },
  {
    "type": "graphql",
    "function": {
      "name": "_saveChatMessage",
      "description": "Saves User Chat Messages",
      "parameters": {
        "type": "object",
        "properties": {
        },
        "required": []
      }
    },
    "context": ["customerid"],
    "api": {
      "query": "mutation AddChatMsg($role: String!, $content: String!, $name: String, $context: ChatMessageContextInput!) {\n  AddChatMessage(message: {role: $role, content:$content, name: $name, context:$context}) {\n    event_time\n  }\n}"
    }
  },
  {
    "type": "graphql",
    "function": {
      "name": "_getChatMessages",
      "description": "Retrieves User Chat Messages",
      "parameters": {
        "type": "object",
        "properties": {
        },
        "required": []
      }
    },
    "context": ["customerid"],
    "api": {
      "query": "query GetChatMessages($customerid: Int!, $limit: Int = 10) {\nmessages: CustomerChatMessage(customerid: $customerid, limit:$limit) {\n  role\n  content\n name\n}\n}"
    }
  }
]